<div class="entries-section">
    <!-- Clock In/Out Status Card -->
    <div class="status-card">
        <h3>Current Status</h3>

        @if (findTodayEntry()?.dayStartTime) {
            @if (isClockedIn) {
                <p class="status-active">Clocked In</p>
            }
            @if (!isClockedIn && findTodayEntry()?.dayEndTime) {
                <p class="status-inactive">Shift Ended</p>
            }

            <p class="status-date">{{ findTodayEntry()?.date | date:'fullDate' }}</p>
            <p>Start Time: {{ formatTime12Hour(findTodayEntry()?.dayStartTime) }}</p>
            <p>End Time: {{ findTodayEntry()?.dayEndTime ? formatTime12Hour(findTodayEntry()?.dayEndTime) : '--:--' }}</p>
        } @else {
            <p>Not Clocked In</p>
            <p class="muted">No activity today</p>
        }

        <div class="clock-buttons">
            <button (click)="clockIn()" class="clock-in-btn" [disabled]="isClockedIn">Clock In</button>
            <button (click)="clockOut()" class="clock-out-btn" [disabled]="!isClockedIn">Clock Out</button>
        </div>
    </div>

    <!-- Day Entries Table -->
    <div class="section-header">
        <h3>Day Entries</h3>
    </div>

    <table class="entries-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Duration</th>
                <th>Comments</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @for (entry of dayEntries; track entry.id) {
                <tr>
                    <td>{{ entry.date | date:'shortDate' }}</td>
                    <td>{{ formatTime12Hour(entry.dayStartTime) }}</td>
                    <td>{{ entry.dayEndTime ? formatTime12Hour(entry.dayEndTime) : '--:--' }}</td>
                    <td>{{ entry.workDuration | number:'1.2-2' }}</td>
                    <td>{{ entry.comment }}</td>
                    <td>
                        <button class="icon-btn delete-btn" title="Delete" aria-label="Delete"
                            (click)="deleteDayEntry(entry.id)">&times;</button>
                    </td>
                </tr>
            } @empty {
                <tr>
                    <td colspan="6" class="no-data">No day entries for this week.</td>
                </tr>
            }
        </tbody>
    </table>
</div>
